{% extends "network/layout.html" %}
    {% block body %}
    
<div class="ui container">
    {% if message %}
        <div>{{ message }}</div>
    {% endif %}
    
        <h1>Profile of: {{ user_target.username }}</h1> 

        <div class="ui two attached buttons">
            <a class="ui green button" href="{% url 'stronk:follow' user_target.username %}">
                <i class="plus icon"></i>Follow this person!
            </a>
            <a class="ui red button" href="{% url 'stronk:unfollow' user_target.username %}">
                <i class="minus icon"></i>Unfollow this person!
            </a>
        </div>
        <div>
            <p>No people following {{ user_target.username }}: {{ following_count }}</p>
        </div>
        <div>
            <p>{{ user_target.username }} is following {{followers_count}} people</p>
        </div>
        <div>
            <h2>Posts by this person</h2>
        </div>
        
        <div class="ui divider"></div>
        <div>
        {% for post in posts %}          
            <div class="ui card">
                <div class="content">
                    <div class="meta">
                        <div><span>{{ post.post_time }}</span></div>
                        <div><p>Liked by:{{ post.liked_by }}</p></div>
                    </div>
                    <p>{{ post.content }}</p>
                </div>
            </div>             
        {% endfor %}
        </div>
        <div>
            <nav aria-label="Page navigation ">
                {% if posts.has_previous %}
                <a class="page-link" href="?page={{ posts.previous_page_number }}">
                    <button class="ui left labeled icon button">
                        <i class="left arrow icon"></i>
                        Previous
                    </button>
                </a>
            
                {% else %}
                <a class="page-link" href="#">
                    <button class="ui left labeled icon button">
                        <i class="left arrow icon"></i>
                        Previous
                    </button>
                </a>
                {% endif %}
                
                {% if posts.has_next %}
                <a class="page-link" href="?page={{posts.next_page_number}}">
                    <button class="ui right labeled icon button">
                    <i class="right arrow icon"></i>
                    Next
                    </button>
                </a>
                                   
                {% else %}
                <a class="page-link" href="#">
                    <button class="ui right labeled icon button">
                        <i class="right arrow icon"></i>
                        Next
                    </button>
                </a>                
                {% endif %}
            </nav>
        </div>
</div>
    
    {% endblock %}>